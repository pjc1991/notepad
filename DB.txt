--  MySQL
-- When you initiate your MariaDB first time.
-- https://www.erdcloud.com/d/wBfCvkr6r7HhnRQid

CREATE DATABASE notepad;

CREATE OR REPLACE USER 'pjc1991'@'localhost' IDENTIFIED BY 'pjc1991'; 
GRANT ALL PRIVILEGES ON notepad.* TO 'pjc1991'@'localhost';
FLUSH PRIVILEGES;

SHOW GRANTS FOR 'pjc1991'@'localhost';

DROP TABLE IF EXISTS `NOTE`;

CREATE TABLE `NOTE` (
	`n_idx`	INT(20)	NOT NULL,
	`m_id`	VARCHAR(30)	NOT NULL,
	`n_title`	VARCHAR(100)	NULL,
	`n_contemnt`	VARCHAR(5000)	NULL,
	`n_status`	INT(2)	NULL
);

DROP TABLE IF EXISTS `MEMBER`;

CREATE TABLE `MEMBER` (
	`m_id`	VARCHAR(30)	NOT NULL,
	`m_pw`	VARCHAR(30)	NULL,
	`m_mail`	VARCHAR(50)	NULL,
	`m_admin`	INT(2)	NULL
);

ALTER TABLE `NOTE` ADD CONSTRAINT `PK_NOTE` PRIMARY KEY (
	`n_idx`
);

ALTER TABLE `MEMBER` ADD CONSTRAINT `PK_MEMBER` PRIMARY KEY (
	`m_id`
);

ALTER TABLE `NOTE` ADD CONSTRAINT `FK_MEMBER_TO_NOTE_1` FOREIGN KEY (
	`m_id`
)
REFERENCES `MEMBER` (
	`m_id`
);

